/**
 * Mock Settlement Data for Admin Portal
 */

import { Settlement, SettlementStats } from '../types/settlement';

// Helper to generate recent dates
const getRecentDate = (daysAgo: number): string => {
  const date = new Date();
  date.setDate(date.getDate() - daysAgo);
  return date.toISOString();
};

const formatPeriod = (startDaysAgo: number, endDaysAgo: number): { start: string; end: string; period: string } => {
  const start = new Date();
  start.setDate(start.getDate() - startDaysAgo);
  const end = new Date();
  end.setDate(end.getDate() - endDaysAgo);
  
  return {
    start: start.toISOString().split('T')[0],
    end: end.toISOString().split('T')[0],
    period: `${start.toLocaleDateString('en-IN', { month: 'short', day: 'numeric' })} - ${end.toLocaleDateString('en-IN', { month: 'short', day: 'numeric' })}, 2026`,
  };
};

export const mockSettlements: Settlement[] = [
  // Recent completed settlements (last week)
  {
    id: 'set_001',
    settlementNumber: 'SET2026001',
    vendorId: 'v_001',
    vendorName: 'Sri Sai Suppliers',
    vendorType: 'Material Supplier',
    totalAmount: 125000,
    platformFee: 3750,
    platformFeePercentage: 3,
    tds: 1250,
    tdsPercentage: 1,
    netAmount: 120000,
    orderIds: ['ord_001', 'ord_005', 'ord_012'],
    orderCount: 3,
    periodStart: formatPeriod(14, 8).start,
    periodEnd: formatPeriod(14, 8).end,
    period: formatPeriod(14, 8).period,
    status: 'completed',
    paymentMethod: 'bank_transfer',
    paymentDate: getRecentDate(5),
    paidAt: getRecentDate(5),
    transactionId: 'TXN2026001234',
    utrNumber: 'UTR402601234567',
    accountNumber: '****5678',
    ifscCode: 'HDFC0001234',
    accountHolderName: 'Sri Sai Suppliers Pvt Ltd',
    createdAt: getRecentDate(6),
    processedAt: getRecentDate(5),
    completedAt: getRecentDate(5),
    processedBy: 'Priya Sharma',
  },
  {
    id: 'set_002',
    settlementNumber: 'SET2026002',
    vendorId: 'v_002',
    vendorName: 'Balaji Steel & Hardware',
    vendorType: 'Material Supplier',
    totalAmount: 385000,
    platformFee: 11550,
    platformFeePercentage: 3,
    tds: 3850,
    tdsPercentage: 1,
    netAmount: 369600,
    orderIds: ['ord_003', 'ord_015'],
    orderCount: 2,
    periodStart: formatPeriod(14, 8).start,
    periodEnd: formatPeriod(14, 8).end,
    period: formatPeriod(14, 8).period,
    status: 'processing',
    paymentMethod: 'bank_transfer',
    accountNumber: '****8901',
    ifscCode: 'ICIC0002345',
    accountHolderName: 'Balaji Steel & Hardware',
    createdAt: getRecentDate(7),
    processedAt: getRecentDate(2),
    processedBy: 'Priya Sharma',
  },
  {
    id: 'set_003',
    settlementNumber: 'SET2026003',
    vendorId: 'v_003',
    vendorName: 'Prime Bricks Co.',
    vendorType: 'Material Supplier',
    totalAmount: 47500,
    platformFee: 1425,
    platformFeePercentage: 3,
    tds: 475,
    tdsPercentage: 1,
    netAmount: 45600,
    orderIds: ['ord_004'],
    orderCount: 1,
    periodStart: formatPeriod(7, 1).start,
    periodEnd: formatPeriod(7, 1).end,
    period: formatPeriod(7, 1).period,
    status: 'pending',
    accountNumber: '****2345',
    ifscCode: 'SBI00034567',
    accountHolderName: 'Prime Bricks Company',
    createdAt: getRecentDate(1),
  },
  {
    id: 'set_004',
    settlementNumber: 'SET2026004',
    vendorId: 'v_005',
    vendorName: 'Hyderabad Skilled Workers',
    vendorType: 'Labor Contractor',
    totalAmount: 34720,
    platformFee: 1042,
    platformFeePercentage: 3,
    tds: 347,
    tdsPercentage: 1,
    netAmount: 33331,
    orderIds: ['ord_002', 'ord_018'],
    orderCount: 2,
    periodStart: formatPeriod(7, 1).start,
    periodEnd: formatPeriod(7, 1).end,
    period: formatPeriod(7, 1).period,
    status: 'pending',
    accountNumber: '****6789',
    ifscCode: 'HDFC0005678',
    accountHolderName: 'Hyderabad Skilled Workers',
    createdAt: getRecentDate(1),
  },
  {
    id: 'set_005',
    settlementNumber: 'SET2026005',
    vendorId: 'v_004',
    vendorName: 'Royal Paints & Hardware',
    vendorType: 'Material Supplier',
    totalAmount: 25240,
    platformFee: 757,
    platformFeePercentage: 3,
    tds: 252,
    tdsPercentage: 1,
    netAmount: 24231,
    orderIds: ['ord_007'],
    orderCount: 1,
    periodStart: formatPeriod(7, 1).start,
    periodEnd: formatPeriod(7, 1).end,
    period: formatPeriod(7, 1).period,
    status: 'on_hold',
    accountNumber: '****4567',
    ifscCode: 'AXIS0006789',
    accountHolderName: 'Royal Paints & Hardware',
    createdAt: getRecentDate(2),
    notes: 'Verification pending - GST documents required',
  },
  {
    id: 'set_006',
    settlementNumber: 'SET2026006',
    vendorId: 'v_006',
    vendorName: 'Expert Electricians',
    vendorType: 'Labor Contractor',
    totalAmount: 13440,
    platformFee: 403,
    platformFeePercentage: 3,
    tds: 134,
    tdsPercentage: 1,
    netAmount: 12903,
    orderIds: ['ord_006'],
    orderCount: 1,
    periodStart: formatPeriod(7, 1).start,
    periodEnd: formatPeriod(7, 1).end,
    period: formatPeriod(7, 1).period,
    status: 'pending',
    accountNumber: '****7890',
    ifscCode: 'HDFC0007890',
    accountHolderName: 'Expert Electricians',
    createdAt: getRecentDate(1),
  },
  {
    id: 'set_007',
    settlementNumber: 'SET2026007',
    vendorId: 'v_007',
    vendorName: 'Metro Tiles & Sanitary',
    vendorType: 'Material Supplier',
    totalAmount: 144000,
    platformFee: 4320,
    platformFeePercentage: 3,
    tds: 1440,
    tdsPercentage: 1,
    netAmount: 138240,
    orderIds: ['ord_008', 'ord_013', 'ord_019'],
    orderCount: 3,
    periodStart: formatPeriod(14, 8).start,
    periodEnd: formatPeriod(14, 8).end,
    period: formatPeriod(14, 8).period,
    status: 'completed',
    paymentMethod: 'bank_transfer',
    paymentDate: getRecentDate(4),
    paidAt: getRecentDate(4),
    transactionId: 'TXN2026001235',
    utrNumber: 'UTR402601234568',
    accountNumber: '****3456',
    ifscCode: 'ICIC0008901',
    accountHolderName: 'Metro Tiles & Sanitary',
    createdAt: getRecentDate(6),
    processedAt: getRecentDate(4),
    completedAt: getRecentDate(4),
    processedBy: 'Priya Sharma',
  },
  {
    id: 'set_008',
    settlementNumber: 'SET2026008',
    vendorId: 'v_008',
    vendorName: 'Concrete Masters',
    vendorType: 'Material Supplier',
    totalAmount: 285000,
    platformFee: 8550,
    platformFeePercentage: 3,
    tds: 2850,
    tdsPercentage: 1,
    netAmount: 273600,
    orderIds: ['ord_020', 'ord_021'],
    orderCount: 2,
    periodStart: formatPeriod(21, 15).start,
    periodEnd: formatPeriod(21, 15).end,
    period: formatPeriod(21, 15).period,
    status: 'completed',
    paymentMethod: 'bank_transfer',
    paymentDate: getRecentDate(12),
    paidAt: getRecentDate(12),
    transactionId: 'TXN2026001236',
    utrNumber: 'UTR402601234569',
    accountNumber: '****9012',
    ifscCode: 'HDFC0009012',
    accountHolderName: 'Concrete Masters Pvt Ltd',
    createdAt: getRecentDate(14),
    processedAt: getRecentDate(12),
    completedAt: getRecentDate(12),
    processedBy: 'Vishal Chauhan',
  },
  {
    id: 'set_009',
    settlementNumber: 'SET2026009',
    vendorId: 'v_009',
    vendorName: 'Plumbing Solutions',
    vendorType: 'Labor Contractor',
    totalAmount: 18900,
    platformFee: 567,
    platformFeePercentage: 3,
    tds: 189,
    tdsPercentage: 1,
    netAmount: 18144,
    orderIds: ['ord_022'],
    orderCount: 1,
    periodStart: formatPeriod(14, 8).start,
    periodEnd: formatPeriod(14, 8).end,
    period: formatPeriod(14, 8).period,
    status: 'processing',
    paymentMethod: 'bank_transfer',
    accountNumber: '****1234',
    ifscCode: 'SBI00041234',
    accountHolderName: 'Plumbing Solutions',
    createdAt: getRecentDate(7),
    processedAt: getRecentDate(1),
    processedBy: 'Priya Sharma',
  },
  {
    id: 'set_010',
    settlementNumber: 'SET2026010',
    vendorId: 'v_010',
    vendorName: 'Supreme Sand Suppliers',
    vendorType: 'Material Supplier',
    totalAmount: 56000,
    platformFee: 1680,
    platformFeePercentage: 3,
    tds: 560,
    tdsPercentage: 1,
    netAmount: 53760,
    orderIds: ['ord_023', 'ord_024'],
    orderCount: 2,
    periodStart: formatPeriod(21, 15).start,
    periodEnd: formatPeriod(21, 15).end,
    period: formatPeriod(21, 15).period,
    status: 'completed',
    paymentMethod: 'bank_transfer',
    paymentDate: getRecentDate(11),
    paidAt: getRecentDate(11),
    transactionId: 'TXN2026001237',
    utrNumber: 'UTR402601234570',
    accountNumber: '****5678',
    ifscCode: 'AXIS0005678',
    accountHolderName: 'Supreme Sand Suppliers',
    createdAt: getRecentDate(13),
    processedAt: getRecentDate(11),
    completedAt: getRecentDate(11),
    processedBy: 'Vishal Chauhan',
  },
  {
    id: 'set_011',
    settlementNumber: 'SET2026011',
    vendorId: 'v_011',
    vendorName: 'Elite Contractors',
    vendorType: 'Labor Contractor',
    totalAmount: 92500,
    platformFee: 2775,
    platformFeePercentage: 3,
    tds: 925,
    tdsPercentage: 1,
    netAmount: 88800,
    orderIds: ['ord_025', 'ord_026', 'ord_027'],
    orderCount: 3,
    periodStart: formatPeriod(14, 8).start,
    periodEnd: formatPeriod(14, 8).end,
    period: formatPeriod(14, 8).period,
    status: 'pending',
    accountNumber: '****3456',
    ifscCode: 'ICIC0013456',
    accountHolderName: 'Elite Contractors',
    createdAt: getRecentDate(1),
  },
  {
    id: 'set_012',
    settlementNumber: 'SET2026012',
    vendorId: 'v_012',
    vendorName: 'Modern Sanitary Ware',
    vendorType: 'Material Supplier',
    totalAmount: 67800,
    platformFee: 2034,
    platformFeePercentage: 3,
    tds: 678,
    tdsPercentage: 1,
    netAmount: 65088,
    orderIds: ['ord_028'],
    orderCount: 1,
    periodStart: formatPeriod(7, 1).start,
    periodEnd: formatPeriod(7, 1).end,
    period: formatPeriod(7, 1).period,
    status: 'pending',
    accountNumber: '****7890',
    ifscCode: 'HDFC0017890',
    accountHolderName: 'Modern Sanitary Ware',
    createdAt: getRecentDate(0),
  },
  {
    id: 'set_013',
    settlementNumber: 'SET2026013',
    vendorId: 'v_013',
    vendorName: 'Golden Windows & Doors',
    vendorType: 'Material Supplier',
    totalAmount: 156000,
    platformFee: 4680,
    platformFeePercentage: 3,
    tds: 1560,
    tdsPercentage: 1,
    netAmount: 149760,
    orderIds: ['ord_029', 'ord_030'],
    orderCount: 2,
    periodStart: formatPeriod(21, 15).start,
    periodEnd: formatPeriod(21, 15).end,
    period: formatPeriod(21, 15).period,
    status: 'completed',
    paymentMethod: 'bank_transfer',
    paymentDate: getRecentDate(10),
    paidAt: getRecentDate(10),
    transactionId: 'TXN2026001238',
    utrNumber: 'UTR402601234571',
    accountNumber: '****2345',
    ifscCode: 'SBI00072345',
    accountHolderName: 'Golden Windows & Doors',
    createdAt: getRecentDate(13),
    processedAt: getRecentDate(10),
    completedAt: getRecentDate(10),
    processedBy: 'Priya Sharma',
  },
  {
    id: 'set_014',
    settlementNumber: 'SET2026014',
    vendorId: 'v_014',
    vendorName: 'Quick Fix Carpenters',
    vendorType: 'Labor Contractor',
    totalAmount: 42000,
    platformFee: 1260,
    platformFeePercentage: 3,
    tds: 420,
    tdsPercentage: 1,
    netAmount: 40320,
    orderIds: ['ord_031', 'ord_032'],
    orderCount: 2,
    periodStart: formatPeriod(7, 1).start,
    periodEnd: formatPeriod(7, 1).end,
    period: formatPeriod(7, 1).period,
    status: 'on_hold',
    accountNumber: '****6789',
    ifscCode: 'AXIS0016789',
    accountHolderName: 'Quick Fix Carpenters',
    createdAt: getRecentDate(2),
    notes: 'Pending bank account verification',
  },
  {
    id: 'set_015',
    settlementNumber: 'SET2026015',
    vendorId: 'v_015',
    vendorName: 'Apex Cement Suppliers',
    vendorType: 'Material Supplier',
    totalAmount: 425000,
    platformFee: 12750,
    platformFeePercentage: 3,
    tds: 4250,
    tdsPercentage: 1,
    netAmount: 408000,
    orderIds: ['ord_033', 'ord_034', 'ord_035', 'ord_036'],
    orderCount: 4,
    periodStart: formatPeriod(21, 15).start,
    periodEnd: formatPeriod(21, 15).end,
    period: formatPeriod(21, 15).period,
    status: 'completed',
    paymentMethod: 'bank_transfer',
    paymentDate: getRecentDate(10),
    paidAt: getRecentDate(10),
    transactionId: 'TXN2026001239',
    utrNumber: 'UTR402601234572',
    accountNumber: '****9012',
    ifscCode: 'HDFC0019012',
    accountHolderName: 'Apex Cement Suppliers Pvt Ltd',
    createdAt: getRecentDate(13),
    processedAt: getRecentDate(10),
    completedAt: getRecentDate(10),
    processedBy: 'Vishal Chauhan',
  },
  {
    id: 'set_016',
    settlementNumber: 'SET2026016',
    vendorId: 'v_003',
    vendorName: 'Prime Bricks Co.',
    vendorType: 'Material Supplier',
    totalAmount: 89000,
    platformFee: 2670,
    platformFeePercentage: 3,
    tds: 890,
    tdsPercentage: 1,
    netAmount: 85440,
    orderIds: ['ord_037', 'ord_038'],
    orderCount: 2,
    periodStart: formatPeriod(28, 22).start,
    periodEnd: formatPeriod(28, 22).end,
    period: formatPeriod(28, 22).period,
    status: 'completed',
    paymentMethod: 'bank_transfer',
    paymentDate: getRecentDate(18),
    paidAt: getRecentDate(18),
    transactionId: 'TXN2026001240',
    utrNumber: 'UTR402601234573',
    accountNumber: '****2345',
    ifscCode: 'SBI00034567',
    accountHolderName: 'Prime Bricks Company',
    createdAt: getRecentDate(20),
    processedAt: getRecentDate(18),
    completedAt: getRecentDate(18),
    processedBy: 'Vishal Chauhan',
  },
  {
    id: 'set_017',
    settlementNumber: 'SET2026017',
    vendorId: 'v_016',
    vendorName: 'Reliable Painters',
    vendorType: 'Labor Contractor',
    totalAmount: 28500,
    platformFee: 855,
    platformFeePercentage: 3,
    tds: 285,
    tdsPercentage: 1,
    netAmount: 27360,
    orderIds: ['ord_039'],
    orderCount: 1,
    periodStart: formatPeriod(14, 8).start,
    periodEnd: formatPeriod(14, 8).end,
    period: formatPeriod(14, 8).period,
    status: 'processing',
    paymentMethod: 'bank_transfer',
    accountNumber: '****4567',
    ifscCode: 'ICIC0024567',
    accountHolderName: 'Reliable Painters',
    createdAt: getRecentDate(7),
    processedAt: getRecentDate(1),
    processedBy: 'Priya Sharma',
  },
  {
    id: 'set_018',
    settlementNumber: 'SET2026018',
    vendorId: 'v_001',
    vendorName: 'Sri Sai Suppliers',
    vendorType: 'Material Supplier',
    totalAmount: 178000,
    platformFee: 5340,
    platformFeePercentage: 3,
    tds: 1780,
    tdsPercentage: 1,
    netAmount: 170880,
    orderIds: ['ord_040', 'ord_041', 'ord_042'],
    orderCount: 3,
    periodStart: formatPeriod(28, 22).start,
    periodEnd: formatPeriod(28, 22).end,
    period: formatPeriod(28, 22).period,
    status: 'completed',
    paymentMethod: 'bank_transfer',
    paymentDate: getRecentDate(19),
    paidAt: getRecentDate(19),
    transactionId: 'TXN2026001241',
    utrNumber: 'UTR402601234574',
    accountNumber: '****5678',
    ifscCode: 'HDFC0001234',
    accountHolderName: 'Sri Sai Suppliers Pvt Ltd',
    createdAt: getRecentDate(20),
    processedAt: getRecentDate(19),
    completedAt: getRecentDate(19),
    processedBy: 'Vishal Chauhan',
  },
  {
    id: 'set_019',
    settlementNumber: 'SET2026019',
    vendorId: 'v_017',
    vendorName: 'Master Masons',
    vendorType: 'Labor Contractor',
    totalAmount: 67200,
    platformFee: 2016,
    platformFeePercentage: 3,
    tds: 672,
    tdsPercentage: 1,
    netAmount: 64512,
    orderIds: ['ord_043', 'ord_044'],
    orderCount: 2,
    periodStart: formatPeriod(7, 1).start,
    periodEnd: formatPeriod(7, 1).end,
    period: formatPeriod(7, 1).period,
    status: 'failed',
    accountNumber: '****8901',
    ifscCode: 'HDFC0028901',
    accountHolderName: 'Master Masons',
    createdAt: getRecentDate(1),
    notes: 'Payment failed - Invalid IFSC code',
  },
  {
    id: 'set_020',
    settlementNumber: 'SET2026020',
    vendorId: 'v_002',
    vendorName: 'Balaji Steel & Hardware',
    vendorType: 'Material Supplier',
    totalAmount: 298000,
    platformFee: 8940,
    platformFeePercentage: 3,
    tds: 2980,
    tdsPercentage: 1,
    adjustments: -5000,
    netAmount: 281080,
    orderIds: ['ord_045', 'ord_046'],
    orderCount: 2,
    periodStart: formatPeriod(28, 22).start,
    periodEnd: formatPeriod(28, 22).end,
    period: formatPeriod(28, 22).period,
    status: 'completed',
    paymentMethod: 'bank_transfer',
    paymentDate: getRecentDate(17),
    paidAt: getRecentDate(17),
    transactionId: 'TXN2026001242',
    utrNumber: 'UTR402601234575',
    accountNumber: '****8901',
    ifscCode: 'ICIC0002345',
    accountHolderName: 'Balaji Steel & Hardware',
    createdAt: getRecentDate(20),
    processedAt: getRecentDate(17),
    completedAt: getRecentDate(17),
    processedBy: 'Priya Sharma',
    notes: 'Adjustment for damaged goods return',
  },
];

// Calculate stats from the data
const pending = mockSettlements.filter(s => s.status === 'pending' || s.status === 'on_hold' || s.status === 'failed');
const processing = mockSettlements.filter(s => s.status === 'processing');
const completed = mockSettlements.filter(s => s.status === 'completed');

export const mockSettlementStats: SettlementStats = {
  totalSettlements: mockSettlements.length,
  pendingSettlements: pending.length,
  completedSettlements: completed.length,
  totalPending: pending.reduce((sum, s) => sum + s.netAmount, 0),
  totalProcessing: processing.reduce((sum, s) => sum + s.netAmount, 0),
  totalCompleted: completed.reduce((sum, s) => sum + s.netAmount, 0),
  averageSettlementAmount: Math.round(mockSettlements.reduce((sum, s) => sum + s.netAmount, 0) / mockSettlements.length),
};
