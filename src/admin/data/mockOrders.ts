/**
 * Mock Order Data for Admin Portal
 */

import { Order, OrderStats, Dispute } from '../types/order';
import { generateMockOrders } from './mockOrdersGenerator';

// Generate 120 mock orders for testing pagination
export const mockOrders: Order[] = generateMockOrders(120);

// Add specific unpaid orders for settlement testing
const settlementTestOrders: Order[] = [
  // Sri Sai Cement Suppliers (V001) - Unpaid completed orders from last 30 days
  {
    id: 'ord_test_001',
    orderNumber: 'RS2024001201',
    type: 'material',
    status: 'completed',
    buyerId: 'buy_001',
    buyerName: 'Ramesh Kumar',
    buyerPhone: '+917906441952',
    buyerLocation: 'Kukatpally',
    vendorId: 'V001',
    vendorName: 'Sri Sai Cement Suppliers',
    vendorPhone: '+918393083836',
    vendorType: 'Material Supplier',
    items: [
      {
        id: 'item_test_001_1',
        name: 'Portland Cement (OPC 53)',
        category: 'Cement',
        quantity: 100,
        unit: 'bags',
        unitPrice: 380,
        totalPrice: 38000,
      },
      {
        id: 'item_test_001_2',
        name: 'M-Sand (Fine)',
        category: 'Sand',
        quantity: 5,
        unit: 'tons',
        unitPrice: 1800,
        totalPrice: 9000,
      },
    ],
    subtotal: 47000,
    platformFee: 1410,
    deliveryFee: 500,
    tax: 5640,
    total: 54550,
    paymentStatus: 'pending',
    deliveryAddress: 'Plot 101, Kukatpally, Hyderabad - 500072',
    deliveryDate: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
    deliverySlot: '9:00 AM - 11:00 AM',
    createdAt: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000).toISOString(),
    confirmedAt: new Date(Date.now() - 9 * 24 * 60 * 60 * 1000).toISOString(),
    deliveredAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),
    rating: 5,
    reviewText: 'Excellent quality cement and sand',
  },
  {
    id: 'ord_test_002',
    orderNumber: 'RS2024001202',
    type: 'material',
    status: 'completed',
    buyerId: 'buy_003',
    buyerName: 'Venkat Rao',
    buyerPhone: '+918393083836',
    buyerLocation: 'Madhapur',
    vendorId: 'V001',
    vendorName: 'Sri Sai Cement Suppliers',
    vendorPhone: '+917906441952',
    vendorType: 'Material Supplier',
    items: [
      {
        id: 'item_test_002_1',
        name: 'Portland Cement (OPC 53)',
        category: 'Cement',
        quantity: 50,
        unit: 'bags',
        unitPrice: 380,
        totalPrice: 19000,
      },
    ],
    subtotal: 19000,
    platformFee: 570,
    deliveryFee: 300,
    tax: 2280,
    total: 22150,
    paymentStatus: 'pending',
    deliveryAddress: 'Plot 45, Madhapur, Hyderabad - 500081',
    deliveryDate: new Date(Date.now() - 8 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
    deliverySlot: '11:00 AM - 1:00 PM',
    createdAt: new Date(Date.now() - 12 * 24 * 60 * 60 * 1000).toISOString(),
    confirmedAt: new Date(Date.now() - 11 * 24 * 60 * 60 * 1000).toISOString(),
    deliveredAt: new Date(Date.now() - 8 * 24 * 60 * 60 * 1000).toISOString(),
    rating: 4,
  },
  {
    id: 'ord_test_003',
    orderNumber: 'RS2024001203',
    type: 'material',
    status: 'completed',
    buyerId: 'buy_005',
    buyerName: 'Prakash Sharma',
    buyerPhone: '+918393083836',
    buyerLocation: 'Kondapur',
    vendorId: 'V001',
    vendorName: 'Sri Sai Cement Suppliers',
    vendorPhone: '+91790641952',
    vendorType: 'Material Supplier',
    items: [
      {
        id: 'item_test_003_1',
        name: 'Portland Cement (OPC 53)',
        category: 'Cement',
        quantity: 75,
        unit: 'bags',
        unitPrice: 380,
        totalPrice: 28500,
      },
    ],
    subtotal: 28500,
    platformFee: 855,
    deliveryFee: 400,
    tax: 3420,
    total: 33175,
    paymentStatus: 'pending',
    deliveryAddress: 'Plot 78, Kondapur, Hyderabad - 500084',
    deliveryDate: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
    deliverySlot: '2:00 PM - 4:00 PM',
    createdAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(),
    confirmedAt: new Date(Date.now() - 6 * 24 * 60 * 60 * 1000).toISOString(),
    deliveredAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
  },

  // Balaji Steel & TMT (V002) - Unpaid completed orders
  {
    id: 'ord_test_004',
    orderNumber: 'RS2024001204',
    type: 'material',
    status: 'completed',
    buyerId: 'buy_002',
    buyerName: 'Suresh Reddy',
    buyerPhone: '+919876543211',
    buyerLocation: 'Gachibowli',
    vendorId: 'V002',
    vendorName: 'Balaji Steel & TMT',
    vendorPhone: '+919876543211',
    vendorType: 'Material Supplier',
    items: [
      {
        id: 'item_test_004_1',
        name: 'TMT Steel Bars (16mm)',
        category: 'Steel',
        quantity: 800,
        unit: 'kg',
        unitPrice: 68,
        totalPrice: 54400,
      },
      {
        id: 'item_test_004_2',
        name: 'TMT Steel Bars (12mm)',
        category: 'Steel',
        quantity: 300,
        unit: 'kg',
        unitPrice: 65,
        totalPrice: 19500,
      },
    ],
    subtotal: 73900,
    platformFee: 2217,
    deliveryFee: 600,
    tax: 8868,
    total: 85585,
    paymentStatus: 'pending',
    deliveryAddress: 'Plot 23, Gachibowli, Hyderabad - 500032',
    deliveryDate: new Date(Date.now() - 6 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
    deliverySlot: '9:00 AM - 11:00 AM',
    createdAt: new Date(Date.now() - 15 * 24 * 60 * 60 * 1000).toISOString(),
    confirmedAt: new Date(Date.now() - 14 * 24 * 60 * 60 * 1000).toISOString(),
    deliveredAt: new Date(Date.now() - 6 * 24 * 60 * 60 * 1000).toISOString(),
    rating: 5,
    reviewText: 'Premium quality steel',
  },
  {
    id: 'ord_test_005',
    orderNumber: 'RS2024001205',
    type: 'material',
    status: 'completed',
    buyerId: 'buy_004',
    buyerName: 'Lakshmi Devi',
    buyerPhone: '+919876543213',
    buyerLocation: 'Madhapur',
    vendorId: 'V002',
    vendorName: 'Balaji Steel & TMT',
    vendorPhone: '+919876543211',
    vendorType: 'Material Supplier',
    items: [
      {
        id: 'item_test_005_1',
        name: 'TMT Steel Bars (12mm)',
        category: 'Steel',
        quantity: 250,
        unit: 'kg',
        unitPrice: 65,
        totalPrice: 16250,
      },
    ],
    subtotal: 16250,
    platformFee: 488,
    deliveryFee: 300,
    tax: 1950,
    total: 18988,
    paymentStatus: 'pending',
    deliveryAddress: 'Plot 156, Madhapur, Hyderabad - 500081',
    deliveryDate: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
    deliverySlot: '4:00 PM - 6:00 PM',
    createdAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),
    confirmedAt: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString(),
    deliveredAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),
  },

  // Mahalakshmi Aggregates (V003) - Unpaid completed orders
  {
    id: 'ord_test_006',
    orderNumber: 'RS2024001206',
    type: 'material',
    status: 'completed',
    buyerId: 'buy_007',
    buyerName: 'Anjali Mehta',
    buyerPhone: '+919876543216',
    buyerLocation: 'Kondapur',
    vendorId: 'V003',
    vendorName: 'Mahalakshmi Aggregates',
    vendorPhone: '+919876543212',
    vendorType: 'Material Supplier',
    items: [
      {
        id: 'item_test_006_1',
        name: 'M-Sand (Fine)',
        category: 'Sand',
        quantity: 10,
        unit: 'tons',
        unitPrice: 1800,
        totalPrice: 18000,
      },
      {
        id: 'item_test_006_2',
        name: 'River Sand',
        category: 'Sand',
        quantity: 5,
        unit: 'tons',
        unitPrice: 2000,
        totalPrice: 10000,
      },
    ],
    subtotal: 28000,
    platformFee: 840,
    deliveryFee: 700,
    tax: 3360,
    total: 32900,
    paymentStatus: 'pending',
    deliveryAddress: 'Plot 89, Kondapur, Hyderabad - 500084',
    deliveryDate: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
    deliverySlot: '11:00 AM - 1:00 PM',
    createdAt: new Date(Date.now() - 9 * 24 * 60 * 60 * 1000).toISOString(),
    confirmedAt: new Date(Date.now() - 8 * 24 * 60 * 60 * 1000).toISOString(),
    deliveredAt: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString(),
    rating: 5,
  },
  {
    id: 'ord_test_007',
    orderNumber: 'RS2024001207',
    type: 'material',
    status: 'completed',
    buyerId: 'buy_008',
    buyerName: 'Sanjay Patel',
    buyerPhone: '+919876543217',
    buyerLocation: 'Gachibowli',
    vendorId: 'V003',
    vendorName: 'Mahalakshmi Aggregates',
    vendorPhone: '+919876543212',
    vendorType: 'Material Supplier',
    items: [
      {
        id: 'item_test_007_1',
        name: 'M-Sand (Fine)',
        category: 'Sand',
        quantity: 8,
        unit: 'tons',
        unitPrice: 1800,
        totalPrice: 14400,
      },
    ],
    subtotal: 14400,
    platformFee: 432,
    deliveryFee: 500,
    tax: 1728,
    total: 17060,
    paymentStatus: 'pending',
    deliveryAddress: 'Plot 123, Gachibowli, Hyderabad - 500032',
    deliveryDate: new Date(Date.now() - 11 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
    deliverySlot: '9:00 AM - 11:00 AM',
    createdAt: new Date(Date.now() - 20 * 24 * 60 * 60 * 1000).toISOString(),
    confirmedAt: new Date(Date.now() - 19 * 24 * 60 * 60 * 1000).toISOString(),
    deliveredAt: new Date(Date.now() - 11 * 24 * 60 * 60 * 1000).toISOString(),
    rating: 4,
  },

  // Create more orders for other vendors (V004, V005, V006)
  {
    id: 'ord_test_008',
    orderNumber: 'RS2024001208',
    type: 'material',
    status: 'completed',
    buyerId: 'buy_009',
    buyerName: 'Priya Nair',
    buyerPhone: '+919876543218',
    buyerLocation: 'Kukatpally',
    vendorId: 'V004',
    vendorName: 'Prime Bricks & Blocks',
    vendorPhone: '+919876543213',
    vendorType: 'Material Supplier',
    items: [
      {
        id: 'item_test_008_1',
        name: 'Red Clay Bricks',
        category: 'Bricks',
        quantity: 5000,
        unit: 'pieces',
        unitPrice: 8,
        totalPrice: 40000,
      },
    ],
    subtotal: 40000,
    platformFee: 1200,
    deliveryFee: 800,
    tax: 4800,
    total: 46800,
    paymentStatus: 'pending',
    deliveryAddress: 'Plot 345, Kukatpally, Hyderabad - 500072',
    deliveryDate: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
    deliverySlot: '11:00 AM - 1:00 PM',
    createdAt: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString(),
    confirmedAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
    deliveredAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'ord_test_009',
    orderNumber: 'RS2024001209',
    type: 'material',
    status: 'completed',
    buyerId: 'buy_010',
    buyerName: 'Karthik Raj',
    buyerPhone: '+919876543219',
    buyerLocation: 'Miyapur',
    vendorId: 'V005',
    vendorName: 'Royal Paints & Hardware',
    vendorPhone: '+919876543214',
    vendorType: 'Material Supplier',
    items: [
      {
        id: 'item_test_009_1',
        name: 'Asian Paints Apex (White)',
        category: 'Paints',
        quantity: 50,
        unit: 'liters',
        unitPrice: 450,
        totalPrice: 22500,
      },
    ],
    subtotal: 22500,
    platformFee: 675,
    deliveryFee: 350,
    tax: 2700,
    total: 26225,
    paymentStatus: 'pending',
    deliveryAddress: 'Plot 456, Miyapur, Hyderabad - 500049',
    deliveryDate: new Date(Date.now() - 13 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
    deliverySlot: '2:00 PM - 4:00 PM',
    createdAt: new Date(Date.now() - 22 * 24 * 60 * 60 * 1000).toISOString(),
    confirmedAt: new Date(Date.now() - 21 * 24 * 60 * 60 * 1000).toISOString(),
    deliveredAt: new Date(Date.now() - 13 * 24 * 60 * 60 * 1000).toISOString(),
    rating: 4,
  },
  {
    id: 'ord_test_010',
    orderNumber: 'RS2024001210',
    type: 'material',
    status: 'completed',
    buyerId: 'buy_011',
    buyerName: 'Deepak Singh',
    buyerPhone: '+919876543220',
    buyerLocation: 'Kondapur',
    vendorId: 'V006',
    vendorName: 'Metro Tiles & Sanitary',
    vendorPhone: '+919876543215',
    vendorType: 'Material Supplier',
    items: [
      {
        id: 'item_test_010_1',
        name: 'Vitrified Tiles (2x2 ft)',
        category: 'Tiles',
        quantity: 200,
        unit: 'pieces',
        unitPrice: 120,
        totalPrice: 24000,
      },
    ],
    subtotal: 24000,
    platformFee: 720,
    deliveryFee: 450,
    tax: 2880,
    total: 28050,
    paymentStatus: 'pending',
    deliveryAddress: 'Plot 789, Kondapur, Hyderabad - 500084',
    deliveryDate: new Date(Date.now() - 16 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
    deliverySlot: '9:00 AM - 11:00 AM',
    createdAt: new Date(Date.now() - 25 * 24 * 60 * 60 * 1000).toISOString(),
    confirmedAt: new Date(Date.now() - 24 * 24 * 60 * 60 * 1000).toISOString(),
    deliveredAt: new Date(Date.now() - 16 * 24 * 60 * 60 * 1000).toISOString(),
  },
];

// Prepend settlement test orders to the beginning
mockOrders.unshift(...settlementTestOrders);

export const mockOrderStats: OrderStats = {
  total: mockOrders.length,
  pending: mockOrders.filter(o => o.status === 'pending').length,
  confirmed: mockOrders.filter(o => o.status === 'confirmed').length,
  active: mockOrders.filter(o => o.status === 'active').length,
  completed: mockOrders.filter(o => o.status === 'completed').length,
  cancelled: mockOrders.filter(o => o.status === 'cancelled').length,
  disputed: mockOrders.filter(o => o.status === 'disputed').length,
  totalRevenue: mockOrders
    .filter(o => o.paymentStatus === 'paid')
    .reduce((sum, o) => sum + o.total, 0),
  averageOrderValue: Math.round(
    mockOrders.reduce((sum, o) => sum + o.total, 0) / mockOrders.length
  ),
};

export const mockDisputes: Dispute[] = mockOrders
  .filter(o => o.status === 'disputed')
  .map((order, index) => ({
    id: `dispute_${String(index + 1).padStart(3, '0')}`,
    orderId: order.id,
    buyerId: order.buyerId,
    buyerName: order.buyerName,
    vendorId: order.vendorId,
    vendorName: order.vendorName,
    status: 'open',
    reason: 'Quality issues with materials',
    createdAt: order.createdAt,
    updatedAt: order.createdAt,
  }));